package za.co.spsi.mdms.nes;

import za.co.spsi.mdms.kamstrup.services.order.domain.MeterResults;
import za.co.spsi.mdms.nes.db.NESMeterEntity;
import za.co.spsi.mdms.nes.services.order.domain.LoadProfile;
import za.co.spsi.mdms.util.XmlHelper;
import za.co.spsi.toolkit.db.DataSourceDB;
import za.co.spsi.toolkit.db.View;
import za.co.spsi.toolkit.util.StringList;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.util.zip.InflaterOutputStream;

import static za.co.spsi.mdms.nes.util.NESUtil.Decompress;

/**
 * Created by jaspervdb on 2016/11/21.
 */
public class Test {


    public static class TestView extends View<TestView> {
        public NESMeterEntity nesMeterEntity  = new NESMeterEntity();

        public TestView() {
            setSql("select * from nes_meter");
        }
    }

    public static void main(String args[]) throws Exception {
        String data = "Z8DABD98EB6ADB3014C75F652FD059F74B1106CDD636812D1B5B1EEBD7B1E6FD1F617292266E13AA8A1E0F421027D29F73CBCF4736DD60DB711ABEFBCED5668E362E738D4D755E99D6463BBB581BDFAEE6F46DAA8B6D73363E8D6EDDF0D6649A2144EBC3DCBA2EDA5FB65BDC5C2353DD331B17DAA4EDA2EF5D4D10960F083F60F405A347B47EBE22944E6E37191FA29BD2F176996CF443A869DA71633461E9BFB9E455F3D386E0BA142131D58DD10CE3BA3D2D8E0ED55898EAB43236CCBE19FAB1F33634EE949C35BE948FC34171C2B996FC5931FA97FF51FA991F90C658684974CAC93B8753004DB7B46E4E514DCEB63EFC38A6E79ED9F42EC5D5D8AE59BA9480B7197DE757334EBEB7D3D35AA097A5A92ED1BEE46BB33C16FEA610483DD26B21AE55B86D9B734E8F6D834E6DE37EC7148D6BCF5BD64ABEB69CB3CEB8E08A327EC97D7511DBAA923255CE909622A32976F11417BA4A14572AA749CB34B1C0394556183CD12427C90B03A7588BACA82815655CB19CA82C15A548A25C8716D628FDC37245228545D238D748A4B0464CDE11ACAED8C800446F49BE1F40044154C10324DBF162174F8B01229960D000E11A1A20297A78802024C10142A524E000C1926A7880086880700C0C104A3F0990FF328108CE198306486A4E0D0F900F785A0C102109059F40C0014209FC0442489E4AE5138814121C2044230A0E108CC02710063D81A8CF00E4F55D724780A4EAEC0010027F85F988A7E500119C804F20141C201AC30344E6AF5AC500E1282F5A7E85A1041E20D9275C3140240506C8DDCEDC00A4DABC0FD9BECFAAFF01BE9C2791";
        String decompressed = Decompress(data);
        System.out.println(decompressed);
        LoadProfile loadProfile = XmlHelper.unmarshall(LoadProfile.class, decompressed);
        System.out.println("LP = " + loadProfile);
    }
}
